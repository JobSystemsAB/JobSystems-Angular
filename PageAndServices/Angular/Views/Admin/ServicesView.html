<script type="text/ng-template" id="tree_item_renderer.html">

    <div class="panel panel-default">
        <div class="panel-heading">
            <h4 class="panel-title">
                <button class="accordion-toggle" data-toggle="collapse" data-parent="#{{parent.data.id}}" href="#{{parent.data.id}}"><i class="glyphicon glyphicon-chevron-down"></i></button>
                <a data-ng-click="changeSelected(parent.data)" style="margin-left: 20px; margin-top: 5px; cursor: pointer;">
                    {{ parent.data.order }} - {{ parent.data.name }}
                </a>
                <span class="pull-right">
                    id: {{ parent.data.id }} | nr: {{ parent.children.length }}
                </span>
            </h4>
        </div>
        <div id="{{ parent.data.id }}" class="panel-collapse collapse">
            <div class="panel-body" data-ng-show="parent.children.length > 0">
                <div data-ng-repeat="parent in parent.children | orderBy: 'data.order'" data-ng-include="'tree_item_renderer.html'"></div>
            </div>
        </div>
    </div>

</script>

<div data-ng-include="" data-src="'Angular/Views/Partials/AlertView.html'"></div>

<div class="admin-box">

    <b>Edit:</b> Select a category and change the fields to be edited and click on the "Update" button.
    <br />
    <b>Create:</b> Select the parent category, fill the information and click on the "Create" button.<br />
    <b>Delete:</b> Select a category and click on the "Delete" button. All child categories must be deleted first.<br />
    <br />

    <hr />

    <div class="row">

        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
            <h2>Categories:</h2>
            <hr />

            <div class="panel-group" id="accordion">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <button class="accordion-toggle pull-left" data-toggle="collapse" data-parent="#accordion" href="#TOP">
                            <i class="glyphicon glyphicon-chevron-down"></i>
                        </button>
                        <h4 class="panel-title pull-left" style="margin-left: 20px; margin-top: 5px; cursor: pointer;">
                            <a data-ng-click="changeSelected(null)">TOP
                            </a>
                        </h4>
                        <div class="clear"></div>
                    </div>
                    <div id="TOP" class="panel-collapse collapse">
                        <div class="panel-body">
                            <div data-ng-repeat="parent in categoryTree.children | orderBy: 'data.order'" data-ng-include="'tree_item_renderer.html'"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">

            <h2>Edit:</h2>
            <hr />

            <button class="btn btn-success pull-right" data-ng-click="update()">Update</button>
            <button class="btn btn-danger pull-right" data-ng-click="delete()">Delete</button>
            <br />
            <br />

            Id:
            <input class="form-control" type="text" disabled="" data-ng-model="selected.id" /><br />
            <br />

            Name:
            <input class="form-control" type="text" data-ng-model="selected.name" /><br />
            <br />

            URL:
            <input class="form-control" type="text" data-ng-model="selected.url" /><br />
            <br />

            Salary:
            <input class="form-control" type="number" data-ng-model="selected.salary" /><br />
            <br />

            Order:

            <div class="input-group">
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" data-ng-click="orderDown()">
                        <i class="glyphicon glyphicon-chevron-left"></i>
                    </button>
                </span>
                <input class="form-control" type="text" disabled="" data-ng-model="selected.order" />
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" data-ng-click="orderUp()">
                        <i class="glyphicon glyphicon-chevron-right"></i>
                    </button>
                </span>
            </div>

            <br />
            <br />

            ParentId:
            <input class="form-control" type="number" data-ng-model="selected.parentId" /><br />
            <br />

            Description:
            <textarea class="form-control admin-textarea" data-ng-model="selected.description" ></textarea><br />
            <br />

            <button class="btn btn-success pull-right" data-ng-click="update()">Update</button>
            <button class="btn btn-danger pull-right" data-ng-click="delete()">Delete</button>

        </div>

        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
            <h2>New:</h2>
            <hr />

            <button class="btn btn-success pull-right" data-ng-click="create()">Create</button>
            <br />
            <br />

            Parent id:
            <input class="form-control" type="text" disabled="" data-ng-model="service.parent.id" /><br />
            <br />

            Name:
            <input class="form-control" type="text" data-ng-model="service.name" /><br />
            <br />

            URL:
            <input class="form-control" type="text" data-ng-model="service.url" /><br />
            <br />

            Salary:
            <input class="form-control" type="number" data-ng-model="service.salary" /><br />
            <br />

            Description:
            <textarea class="form-control admin-textarea" data-ng-model="service.description" ></textarea><br />
            <br />

            <button class="btn btn-success pull-right" data-ng-click="create()">Create</button>
        </div>
    </div>

</div>


